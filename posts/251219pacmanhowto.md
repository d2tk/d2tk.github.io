---
title: pacman 사용법(Arch Linux 패키지 관리)
date: 2025-12-19
type: article
tags:
  - dev
---

## Arch Linux 패키지 관리 정리 (pacman 사용법)
Arch Linux는 `pacman`이라는 강력한 패키지 관리자를 사용합니다
시스템을 안정적으로 유지하려면 **정기적인 전체 업데이트와 관리**가 매우 중요합니다

### 패키지 업데이트

#### 1. 키링(Keyring) 먼저 업데이트
```
sudo pacman -Sy archlinux-keyring
```
- 패키지 데이터베이스를 업데이트하고, Arch Linux의 키링을 최신 상태로 유지합니다

#### 2. 시스템 전체 업데이트 (가장 중요)
```
sudo pacman -Syu
```
- 시스템에 설치된 모든 패키지를 최신 버전으로 업데이트합니다
- 시스템을 안전하고 최신 상태로 유지하는 데 필수적입니다

##### 옵션 설명
- `-S` : 패키지 설치/동기화
- `-y` : 패키지 데이터베이스 갱신
- `-u` : 설치된 패키지 업그레이드

#### 3. 부분 업데이트는 추천하지 않음

패키지를 계속 업데이트 해야 하는 상황이면 부분 업데이트는 추천하지 않습니다
시스템은 구버전 라이브러리 상태인데 패키지 DB는 최신인 경우 의존성 충돌 및 시스템 오류 발생 가능성이 있습니다

주의)만약 안정적인 운영을 하고 있는 서버라면 다른 이야기입니다

다시 정리하자면
문제가 있을시에는 부분 업데이트 문제가 없다면 전부 업데이트를 권합니다

### 패키지 정리 (삭제)
더 이상 필요없는 패키지들은 과감하게 정리해 줍니다 

#### 1. pacman 명령어를 통해 리스트를 만들어 봅시다
- 다음의 명령을 통해 설치된 패키지들을 확인해 볼 수 있습니다

   ```
   pacman -Qe | sort > installed_packages.txt
   ```
- 사용자가 명시적으로 설치한 패키지 목록을 확인하고, 알파벳 순으로 정렬하여 `installed_packages.txt` 파일에 저장합니다.
- 제가 추천하는 방식은 아래의 더 그룹별로 묶어서 분석하는 것보다 **AI에게 리스트를 주고 조언을 얻는 방법이 더 빠르고 효율적**이라 생각합니다

```
pacman -Qii | awk '/^Name/ {name=$3} /^Groups/ {print name, $3}' | sort > packages_with_groups.txt
```

- 설치된 패키지의 이름과 그룹 정보를 추출하여, 알파벳 순으로 정렬하여 `packages_with_groups.txt` 파일에 저장합니다 
- AI 발전에 따라 위의 방식은 추천하지 않습니다

#### 2. 기본 삭제 명령문(이건 추천하지 않음) 
- `sudo pacman -R package_name`: 

#### 3. 의존성 파일까지 같이 제거 (대부분의 경우 추천)

```
sudo pacman -Rs package_name
```

#### 4. 완전 삭제 (설정 파일까지 제거) - 저는 이걸 좋아합니다

```
sudo pacman -Rns package_name
```

- 가장 깔끔한 제거 방법

#### 5. 고아 패키지 정리 (시스템 청소)
우선 다음 명령어로 확인작업을 합니다 

```
pacman -Qdtq
```

다음으로 제거 명령을 통해 제거합니다 

```
sudo pacman -Rs $(pacman -Qdtq)
```

### 결론
Arch Linux 유지의 핵심은 단 하나입니다

정기적으로 `sudo pacman -Syu` 실행하기

- 부분 업데이트 금지
- 고아 패키지 정리
- 대규모 업데이트 후 재부팅

이 원칙만 지켜도 안정적인 Arch 시스템을 유지할 수 있습니다